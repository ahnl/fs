{"version":3,"sources":["components/Filter.js","services/persons.js","components/PersonForm.js","components/Persons.js","components/Notification.js","index.js"],"names":["Filter","value","set","onChange","e","target","baseUrl","personService","getAll","axios","get","then","response","data","create","post","delete","id","PersonForm","newName","setNewName","newNumber","setNewNumber","persons","setPersons","updateNotification","onSubmit","event","preventDefault","filter","person","name","length","alert","newPerson","number","concat","type","Persons","filterValue","toLowerCase","includes","map","onClick","window","confirm","copyPersons","Notification","message","className","extraClasses","text","App","useState","setFilterValue","notificationMessage","setNotificationMessage","setTimeout","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8a4a85de.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({value, set}) => {\r\n    return (\r\n      <div>\r\n        filter shown with <input value={value} onChange={e => set(e.target.value)} />\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default Filter;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then(response => response.data);\r\n};\r\nconst create = (data) => {\r\n    const request = axios.post(baseUrl, data);\r\n    return request.then(response => response.data);\r\n};\r\nconst del = (id) => {\r\n    const request = axios.delete(baseUrl + '/' + id);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst personService = { getAll, create, delete: del };\r\n\r\nexport default personService","import React from 'react'\r\nimport personService from '../services/persons';\r\n\r\nconst PersonForm = ({newName, setNewName, newNumber, setNewNumber, persons, setPersons, updateNotification}) => {\r\n    const addNumber = (event) => {\r\n      event.preventDefault();\r\n      if (persons.filter(person => person.name === newName).length > 0) {\r\n        alert(`${newName} is already added to phonebook`);\r\n      } else {\r\n        const newPerson = {\r\n            name: newName,\r\n            number: newNumber\r\n        };\r\n\r\n        personService.create(newPerson)\r\n        .then(response => {\r\n            setPersons(persons.concat(response))\r\n            setNewName('');\r\n            setNewNumber('');\r\n            updateNotification(`Added ${newName}`, 'green')\r\n        })\r\n      }\r\n    };\r\n    return (\r\n      <form onSubmit={addNumber}>\r\n        <div>\r\n          name: <input value={newName} onChange={e => setNewName(e.target.value)} />\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={e => setNewNumber(e.target.value)} />\r\n          </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    );\r\n  };\r\n\r\nexport default PersonForm;","import React from 'react';\r\nimport personService from '../services/persons';\r\n\r\nconst Persons = ({persons, filterValue, setPersons, updateNotification}) => {\r\n    const deletePerson = (id, name) => {\r\n        if (window.confirm(`Delete ${name}?`)) {\r\n            personService.delete(id).then(() => {\r\n                const copyPersons = persons.filter( person => person.id !== id);\r\n                setPersons(copyPersons)\r\n                updateNotification(`Deleted ${name}`, 'red')\r\n            })\r\n        }\r\n    }\r\n    const personFilter = (person) => {\r\n      return (person.name + ' ' + person.number).toLowerCase().includes(filterValue.toLowerCase());\r\n    }\r\n    return (\r\n      <>\r\n        {persons.filter(personFilter).map(person => \r\n          <p key={person.name}>{person.name} {person.number} <input type=\"button\" onClick={() => deletePerson(person.id, person.name)} value=\"delete\"></input></p>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n\r\nexport default Persons;","import React from 'react';\r\n\r\nconst Notification = ({message}) => {\r\n    if (message != null) {\r\n      return (\r\n        <div className={`notification ${message.extraClasses}`}>\r\n          {message.text}\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        <>\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\nimport './index.css'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterValue, setFilterValue ] = useState('')\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\n  \n  const updateNotification = (text, extraClasses) => {\n    setNotificationMessage({text, extraClasses});\n    setTimeout(() => {\n        setNotificationMessage(null);\n    }, 2000)\n  }\n\n  useEffect(() => {\n    personService.getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n \n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notificationMessage} />\n      \n      <Filter value={filterValue} set={setFilterValue}/>\n     \n      <h2>add a new</h2>\n      <PersonForm newNumber={newNumber} setNewNumber={setNewNumber} newName={newName} setNewName={setNewName} persons={persons} setPersons={setPersons} updateNotification={updateNotification} />\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} filterValue={filterValue} setPersons={setPersons} updateNotification={updateNotification}  />\n    </div>\n  )\n\n}\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}