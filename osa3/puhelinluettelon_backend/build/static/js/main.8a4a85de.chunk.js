(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n(0),a=n(2),u=n(14),s=n.n(u),i=function(e){var t=e.value,n=e.set;return Object(c.jsxs)("div",{children:["filter shown with ",Object(c.jsx)("input",{value:t,onChange:function(e){return n(e.target.value)}})]})},o=n(4),l=n.n(o),j="/api/persons",b={getAll:function(){return l.a.get(j).then((function(e){return e.data}))},create:function(e){return l.a.post(j,e).then((function(e){return e.data}))},delete:function(e){return l.a.delete(j+"/"+e).then((function(e){return e.data}))}},d=function(e){var t=e.newName,n=e.setNewName,r=e.newNumber,a=e.setNewNumber,u=e.persons,s=e.setPersons,i=e.updateNotification;return Object(c.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),u.filter((function(e){return e.name===t})).length>0)alert("".concat(t," is already added to phonebook"));else{var c={name:t,number:r};b.create(c).then((function(e){s(u.concat(e)),n(""),a(""),i("Added ".concat(t),"green")}))}},children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{value:t,onChange:function(e){return n(e.target.value)}})]}),Object(c.jsxs)("div",{children:["number: ",Object(c.jsx)("input",{value:r,onChange:function(e){return a(e.target.value)}})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})},f=function(e){var t=e.persons,n=e.filterValue,r=e.setPersons,a=e.updateNotification;return Object(c.jsx)(c.Fragment,{children:t.filter((function(e){return(e.name+" "+e.number).toLowerCase().includes(n.toLowerCase())})).map((function(e){return Object(c.jsxs)("p",{children:[e.name," ",e.number," ",Object(c.jsx)("input",{type:"button",onClick:function(){return n=e.id,c=e.name,void(window.confirm("Delete ".concat(c,"?"))&&b.delete(n).then((function(){var e=t.filter((function(e){return e.id!==n}));r(e),a("Deleted ".concat(c),"red")})));var n,c},value:"delete"})]},e.name)}))})},h=function(e){var t=e.message;return null!=t?Object(c.jsx)("div",{className:"notification ".concat(t.extraClasses),children:t.text}):Object(c.jsx)(c.Fragment,{})},O=(n(37),function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],u=t[1],s=Object(a.useState)(""),o=Object(r.a)(s,2),l=o[0],j=o[1],O=Object(a.useState)(""),m=Object(r.a)(O,2),p=m[0],x=m[1],v=Object(a.useState)(""),N=Object(r.a)(v,2),w=N[0],g=N[1],C=Object(a.useState)(null),S=Object(r.a)(C,2),k=S[0],P=S[1],y=function(e,t){P({text:e,extraClasses:t}),setTimeout((function(){P(null)}),2e3)};return Object(a.useEffect)((function(){b.getAll().then((function(e){u(e)}))}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)(h,{message:k}),Object(c.jsx)(i,{value:w,set:g}),Object(c.jsx)("h2",{children:"add a new"}),Object(c.jsx)(d,{newNumber:p,setNewNumber:x,newName:l,setNewName:j,persons:n,setPersons:u,updateNotification:y}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)(f,{persons:n,filterValue:w,setPersons:u,updateNotification:y})]})});s.a.render(Object(c.jsx)(O,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.8a4a85de.chunk.js.map